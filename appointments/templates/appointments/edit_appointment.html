{% extends 'base.html' %}
{% load static %}
{% block extra_css %}
    <link rel="stylesheet" type="text/css" href="{% static 'public_user/css/index.css' %}">
    <!--FONT AWESOME CSS FILES-->
    <link
            crossorigin="anonymous"
            href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/all.css"
            integrity="sha256-46qynGAkLSFpVbEBog43gvNhfrOj+BmwXdxFgVK/Kvc="
            rel="stylesheet"
    />
{% endblock %}
{% block  content %}
    <div class="col-12 mt-5"></div>


    <div class="container">
        <div class="row index">
            <div class="card col-lg-12 border-0">

                <div class="card-header bg-transparent border-0">
                    <h1 class="font-weight-bold display-3  text-info"> Hi {{ user }}
                    </h1>


                </div>
                <p>You can update or delete your consultation here</p>

            </div>


            <div class="col-lg-7">

                {% comment %} form to update consultation {% endcomment %}
                <form action="{% url 'edit_appointment' item_id %}" method="POST" id="book_consultation">
                    {% csrf_token %}
                    <label for="name">Your name</label>
                    <input data-cy="name" type="text" name="name" id="name" required class="form-control" autofocus
                           value=" {{ form.name.value }}">
                    <hr>
                    <label for="email">Your email</label>
                    <input type="email" name="email" id="email" required class="form-control"
                           value=" {{ form.email.value }}">

                    <label for="phone_num">Your phone number</label>
                    <input type="text" name="phone_num" id="phone_num" required class="form-control"
                           value="{{ form.phone_num.value }}">

                    <input type="checkbox" name="done" id="done" hidden value=" {{ form.done.value }}">
                    <input type="password" name="password" id="password" hidden value="dummy_password">


                    <hr>

                    <label for="time_slot">Best time to contact you</label>

                    <select name="time_slot" id="time_slot" required class="form-control">
                        {% if form.time_slot.value == "8 am - 12 pm" %}
                            <option value="8 am - 12 am" selected>8 am - 12 am</option>
                            <option value="12 am - 4 pm">12 pm - 4 pm</option>
                            <option value="4 pm - 8 pm">4 pm - 8 pm</option>
                        {% elif  form.time_slot.value == "12 pm - 4 pm" %}
                            <option value="8 am - 12 pm">8 am - 12 pm</option>
                            <option value="12 pm - 4 pm" selected>12 am - 4 pm</option>
                            <option value="4 pm - 8 pm">4 pm - 8 pm</option>
                        {% else %}
                            <option value="8 am - 12 pm">8 am - 12 pm</option>
                            <option value="12 pm - 4 pm">12 pm - 4 pm</option>
                            <option value="4 pm - 8 pm" selected>4 pm - 8 pm</option>
                        {% endif %}

                    </select>
                    <hr>

                    <label for="site_type">Site type you are interested</label>

                    <select data-cy="site_type" name="site_type" id="site_type" required class="form-control">


                        {% if form.site_type.value == "blog" %}
                            {% comment %} blog {% endcomment %}
                            <option value="blog" selected>blog</option>
                            <option value="website">website</option>
                            <option value="online_store">online store</option>
                            <option value="something_else">something else</option>
                        {% elif  form.site_type.value == "website" %}
                            {% comment %} website {% endcomment %}
                            <option value="blog">blog</option>
                            <option value="website" selected>website</option>
                            <option value="online_store">online store</option>
                            <option value="something_else">something else</option>
                        {% elif   form.site_type.value == "online store" %}
                            {% comment %} online store {% endcomment %}
                            <option value="blog">blog</option>
                            <option value="website">website</option>
                            <option value="online_store" selected>online store</option>
                            <option value="something_else">something else</option>
                        {% else %}
                            {% comment %} something else {% endcomment %}
                             <option value="blog">blog</option>
                            <option value="website">website</option>
                            <option value="online_store">online store</option>
                            <option value="something_else" selected>something else</option>
                        {% endif %}
                    </select>
                    <hr>
                    <label for="project">Describe your project ( max 500 characters )</label>
                    <textarea data-cy="project" name="project" id="project"
                              maxlength="500"
                              cols="30" rows="10" class="form-control">{{ form.project.value }}</textarea>
                    <hr>
                    {% comment %} button to update consultation{% endcomment %}
                    <input data-cy="update_appointment" type="submit" value="update" class="form-control bg-info text-light">
                    <br>


                </form>
                {% comment %} user can delete consultation {% endcomment %}
                <form action="{% url 'delete_appointment' item_id %}">
                    <input data-cy="delete_appointment" type="submit" value="delete consultation" class="form-control bg-danger text-light">

                </form>

            </div>

        </div>

    </div>
    <div id="footer" class="mt-5 mb-5"></div>

{% endblock %}